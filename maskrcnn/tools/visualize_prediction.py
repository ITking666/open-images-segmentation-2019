import base64
import cv2
import numpy as np
from pycocotools import mask as coco_mask
import zlib

prediction="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"
im_height = 768
im_width = 1022
mask = base64.b64decode(prediction)
mask = zlib.decompress(mask)
decoding_dict = {
    'size': [im_height, im_width],
    'counts': mask
}
mask = coco_mask.decode(decoding_dict)
print(mask.shape)
cv2.imshow('', mask * 255)
cv2.waitKey()
